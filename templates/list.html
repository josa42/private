<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Kontakte</title>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<style>
		body { font-family: Arial, sans-serif; margin: 20px; }
		.breadcrumb { margin-bottom: 20px; color: #666; }
		.breadcrumb a { color: #4CAF50; text-decoration: none; }
		.breadcrumb a:hover { text-decoration: underline; }
		.breadcrumb span { margin: 0 5px; }
		.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
		table { border-collapse: collapse; width: 100%; }
		th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
		th { background-color: #4CAF50; color: white; }
		tr:hover { background-color: #f5f5f5; }
		tbody tr { cursor: pointer; }
		a { color: #4CAF50; text-decoration: none; }
		a:hover { text-decoration: underline; }
		.delete-link { color: #f44336; }
		.delete-link:hover { text-decoration: underline; }
		.action-icon { vertical-align: middle; font-size: 18px; margin-right: 4px; }
		.actions { white-space: nowrap; }
		.actions a { display: inline-flex; align-items: center; margin-right: 12px; }
		.btn { background-color: #4CAF50; color: white; padding: 10px 20px; 
		       border: none; border-radius: 4px; cursor: pointer; text-decoration: none;
		       display: inline-block; }
		.btn:hover { background-color: #45a049; }
	</style>
</head>
<body>
	<nav class="breadcrumb">
		<a href="/">Home</a>
		<span>›</span>
		<span>Kontakte</span>
	</nav>
	<div class="header">
		<h1>Kontakte</h1>
		<div>
			<a href="/contacts/import" class="btn" style="margin-right: 10px; background-color: #2196F3;">
				<span class="material-icons" style="vertical-align: middle; font-size: 18px; margin-right: 4px;">file_upload</span>
				Import
			</a>
			<a href="/contacts/new" class="btn">Neuer Kontakt</a>
		</div>
	</div>
	<table>
		<tr>
			<th>Vorname</th>
			<th>Nachname</th>
			<th>Telefonnummer</th>
			<th style="width: 120px;">Aktionen</th>
		</tr>
		{{range $i, $c := .}}
		<tr onclick="window.location='/contacts/edit?id={{$i}}'">
			<td>{{if $c.FirstName}}{{$c.FirstName}}{{else}}-{{end}}</td>
			<td>{{if $c.LastName}}{{$c.LastName}}{{else}}-{{end}}</td>
			<td>{{$c.Phone.PhoneNumber}}</td>
			<td class="actions">
				<a href="/contacts/edit?id={{$i}}" onclick="event.stopPropagation()" title="Bearbeiten">
					<span class="material-icons action-icon">edit</span>
				</a>
				<a href="#" class="delete-link" onclick="event.stopPropagation(); if(confirm('Kontakt wirklich löschen?')) { var form = document.createElement('form'); form.method = 'POST'; form.action = '/contacts/edit'; var idInput = document.createElement('input'); idInput.type = 'hidden'; idInput.name = 'id'; idInput.value = '{{$i}}'; var actionInput = document.createElement('input'); actionInput.type = 'hidden'; actionInput.name = 'action'; actionInput.value = 'delete'; form.appendChild(idInput); form.appendChild(actionInput); document.body.appendChild(form); form.submit(); } return false;" title="Löschen">
					<span class="material-icons action-icon">delete</span>
				</a>
			</td>
		</tr>
		{{end}}
	</table>
</body>
</html>
